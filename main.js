(()=>{"use strict";function e(e,t,n,o){var s=t.querySelector(".card").cloneNode(!0),i=s.querySelector(".card__title"),a=s.querySelector(".card__image");return a.addEventListener("click",o),a.src=e.link,a.alt="фотография: ".concat(e.name),i.textContent=e.name,s.querySelector(".card__like-button").addEventListener("click",r),s.querySelector(".card__delete-button").addEventListener("click",(function(e){n(e.target.closest(".card"))})),s}var t=function(e){e.remove()};function r(e){e.currentTarget.classList.toggle("card__like-button_is-active")}function n(e){e.classList.add("popup_is-animated"),e.classList.add("popup_is-opened"),document.addEventListener("keydown",s),e.addEventListener("click",i)}function o(e){document.removeEventListener("keydown",s),e.removeEventListener("click",i),e.classList.remove("popup_is-opened")}function s(e){"Escape"===e.key&&o(document.querySelector(".popup_is-opened"))}function i(e){e.target.classList.contains("popup_is-opened")&&o(e.target),e.target.classList.contains("popup__close")&&o(e.target.closest(".popup_is-opened"))}function a(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var l,u,p,d,m,f,v,y=function(e){var t=e.formElement,r=e.inputElement,n=e.inputErrorClass,o=e.errorClass,s=t.querySelector(".".concat(r.id,"-error"));s.classList.remove(o),s.textContent="",r.classList.remove(n)},_=function(e){var t=e.inputList,r=e.submitButtonElement,n=e.inactiveButtonClass;!function(e){return e.some((function(e){return!e.validity.valid}))}(t)?(r.disabled=!1,r.classList.remove(n)):(r.disabled=!0,r.classList.add(n))},E=document.querySelector("#card-template").content,C=document.querySelector(".places__list"),S=document.querySelector(".profile__edit-button"),b=document.querySelector(".popup_type_edit"),g=document.querySelector(".profile__add-button"),L=document.querySelector(".popup_type_new-card"),k=document.querySelector(".popup__image"),h=document.querySelector(".popup__caption"),q=document.querySelector(".popup_type_image"),B=document.forms["new-place"],x=B.elements["place-name"],A=B.elements.link,j=document.querySelector(".profile__title"),w=document.querySelector(".profile__description"),M=document.forms["edit-profile"],T=M.elements.name,D=M.elements.description;function I(e){k.src=e.currentTarget.src,k.alt=e.currentTarget.alt,h.textContent=e.currentTarget.alt,n(q)}[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(r){C.append(e(r,E,t,I))})),S.addEventListener("click",(function(e){T.value=j.textContent,D.value=w.textContent,n(b)})),g.addEventListener("click",(function(e){n(L)})),B.addEventListener("submit",(function(r){var n,s,i,c,l,u,p,d,m;r.preventDefault(),C.prepend(e({name:x.value,link:A.value},E,t,I)),B.reset(),i=s.submitButtonSelector,c=s.inactiveButtonClass,l=s.inputSelector,u=s.inputErrorClass,p=s.errorClass,d=a(n.querySelectorAll(l)),m=n.querySelector(i),d.forEach((function(e){y({formElement:n,inputElement:e,inputErrorClass:u,errorClass:p})})),_({inputList:d,submitButtonElement:m,inactiveButtonClass:c}),o(L)})),M.addEventListener("submit",(function(e){e.preventDefault(),j.textContent=T.value,w.textContent=D.value,o(b)})),u=(l={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"}).formSelector,p=l.inputSelector,d=l.submitButtonSelector,m=l.inactiveButtonClass,f=l.inputErrorClass,v=l.errorClass,document.querySelectorAll(u).forEach((function(e){e.addEventListener("submit",(function(e){e.preventDefault()})),function(e){var t=e.formElement,r=e.inputSelector,n=e.inputErrorClass,o=e.submitButtonSelector,s=e.inactiveButtonClass,i=e.errorClass,c=a(t.querySelectorAll(r)),l=t.querySelector(o);_({inputList:c,submitButtonElement:l,inactiveButtonClass:s}),c.forEach((function(e){e.addEventListener("input",(function(){!function(e){var t=e.formElement,r=e.inputElement,n=e.inputErrorClass,o=e.errorClass;r.validity.patternMismatch?r.setCustomValidity(r.dataset.errorMessage):r.setCustomValidity(""),r.validity.valid?y({formElement:t,inputElement:r,errorClass:o,inputErrorClass:n}):function(e){var t=e.inputElement,r=e.inputErrorClass,n=e.errorClass,o=e.errorMessage,s=e.formElement.querySelector(".".concat(t.id,"-error"));s.textContent=o,s.classList.add(n),t.classList.add(r)}({formElement:t,inputElement:r,errorMessage:r.validationMessage,errorClass:o,inputErrorClass:n})}({formElement:t,inputElement:e,inputErrorClass:n,errorClass:i}),_({inputList:c,submitButtonElement:l,inactiveButtonClass:s})}))}))}({formElement:e,inputSelector:p,submitButtonSelector:d,inactiveButtonClass:m,inputErrorClass:f,errorClass:v})})),fetch("https://nomoreparties.co/v1/cohort-28/cards",{headers:{authorization:"01b7ccde-d606-4726-9547-8322b83c607f"}}).then((function(e){return e.json()})).then((function(e){console.log(e)}))})();